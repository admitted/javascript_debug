<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>5.3_javascript_Closure</title>
	<meta name="author" content="Administrator" />


</head>
<body>

<h2>5.3_javascript_Closure</>

</body>
<script type="text/javascript">

	/**
	  匿名函数
	  通过以下操作带来最大的好处是，compareObjectFunction的作用域变大了
	  当compareObjectFunction结束之后，prop这个变量依然存在
	**/
	function compareObjectFunction(prop){
		return function(obj1,obj2){
				if(obj1[prop]>obj2[prop]) return 1;
				else if (obj1[prop]<obj2[prop]) return -1;
			  else return 0;
		}	
	}
	
	var o1 = {name:"CUI",age:25};
	var o2 = {name:"CAO",age:24};
	/*****
	此时就是基于name来进行比较
	在JAVA或者C++中，以下代码执行完了之后，需要进行内存释放
	此时对于JAVA和C++ 这些静态语言而言，prop会被释放
	但在js中这个作用域却被放大了
	*****/
	var compare = compareObjectFunction("age");
	//此时就比较了o1和o2
	
	
	
	// 在js中 ，prop 在这里依然可以被访问，这种通过返回函数来扩大作用域的方法就是闭包。
	var rel = compare (o1,o2);
	alert(rel);
	
	
 
</script>
</html>

